<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <!-- Custom Style -->
	<link rel="stylesheet" type="text/css" href="../boot-style.css">
	<link rel="stylesheet" type="text/css" href="order-style.css">
    <title>Order Up</title>
	<script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>

  </head>
  <body>
  
    
	
	<div class="container-fluid">
        <div class="row" id="header">
            <h1>Order Up</h1>
        </div>
        <div class="row">   
			<div class="buffer" style="background-color:brown">
			</div>
			<div id="gamespace">		
				<br>
				<span id="order">
					<h2>Order Name</h2>
				</span>
				
				<p id="indicator"></p>
				<div class="modifier" id="mod1">
					Modifier 1
				</div>
				<div class="modifier" id="mod1">
					Modifier 2
				</div>
				<div class="modifier" id="mod1">
					Modifier 3
				</div>
				<div class="botButtons">
					<ul>
						<li class="components"></li>
						<li class="components"></li>
						<li class="components"></li>
						<li class="components"></li>
					</ul>
				</div>
	
			</div>
			<div class="buffer" style="background-color:brown">
				<div class="field">
					<p>Add Component</p>
					<p>Name: <input id="comp_name"></p>
					<p>Description: <input id="comp_desc"></p>					
					<p>+ Modifier1 name: <input id="mod1-name"></p>
					<p>+ Modifier2 name: <input id="mod2-name"></p>
					<p>+ Modifier3 name: <input id="mod3-name"></p>
					<button type="button" onclick="getCompValues();">Add</button>
				</div>
			</div>
        </div>


	</div>
    
	<script>
		
		
		//Order Object 
			
		class orders {	
			constructor(name){
				this.name = name;
				this.components = [];
			}			
			
			addComponent(_ing){
				this.components.push(_ing);
			}	
			
			//need a way to require modifiers to a component
			
			//need to be able to check the component against offered component
		}
		
		
		class component{
			constructor(name, description){
				this.name = name;
				this.description = description;		
				this.mods = [];
			}
			
			addMod(modName){				
				this.mods.push(modName);								
			}				
			
			setMod(val){ //the modifer tool should have a numeric value that will move through the array of the available modifiers for the component				
				this.name += " [" + mods[val] + "] ";
				modded = true;
			}
		}
	
		//have a big bin to choose ingredients from 

		//have a workspace for modded ingredients, maybe limit this to 5 
		var workspace = new Array();
		var components = new Array();
		var ordersList = new Array();
		
		
		function addToWorkspace(obj){
			if(workspace.length < 5){
				workspace.push(obj);
			}else{
				console.log('workspace full');
			}
		}
		


///////// Testing out input of pieces
		function getCompValues(){
			let cName = document.getElementById("comp_name").value;
			let cDesc = document.getElementById("comp_desc").value;
			let mod1Name = document.getElementById("mod1-name").value;
			let mod2Name = document.getElementById("mod2-name").value;
			let mod3Name = document.getElementById("mod3-name").value;	
			let newComp = new component(cName, cDesc);
			newComp.addMod(mod1Name);
			newComp.addMod(mod2Name);
			newComp.addMod(mod3Name);
			components.push(newComp);
			
			document.getElementById("comp_name").value = '';
			document.getElementById("comp_desc").value = '';
			document.getElementById("mod1-name").value = '';
			document.getElementById("mod2-name").value = '';
			document.getElementById("mod3-name").value = '';	
		}
		
		
	
		
		var ing = new component('flour', 'finely ground and good for many recipes');
		
		
		var test = new orders('tortilla');
		test.addComponent(ing);

			
	
		
		window.addEventListener('keydown', function(event){
			if(event.keyCode == 32){ //space
				populateComponents();
			}
			if(event.keyCode == 49){ //1
				
			}			
		});
		
		
		$(window).on('load', function(){
			populateTicket(test);
		});
		
		
		function populateComponents(){
			let num = 0;
			$('.components').each(function(){
				if(num < components.length){
					$(this).append('<p>' + components[num].name + '</p>');
					$(this).data(components[num]);
					num++;
				}

			});
		}
		
		
		function populateTicket(order){
			$('#order > h2').text(order.name); //set the name			
			
			for(i=0; i<order.components.length; i++){				
				$('#order').append("<p>" + order.components[i].name + " - " + order.components[i].description + "<p>");
			}		
		}
		
		//select a component 
		$('.components').click(function(){
			console.log($(this).data());
		});
		
	</script>
	
    
    <script src="https://code.jquery.com/jquery-3.4.1.js" integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
  </body>  
 </html>